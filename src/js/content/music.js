const musiclinks = [
    {
        text: "‚ö°‚òî",
        videoID: "Dnu4qR03Dpc",
        playlist: false,
        top: false,
        categorie: "rain",
    },
    {
        text: "üéπüåÅ",
        videoID: "Hg-dJOSSAfc",
        playlist: false,
        top: false,
        categorie: "rain",
    },
    {
        text: "‚òî‚ö°",
        videoID: "S8wE-SjecT4",
        playlist: false,
        top: true,
        categorie: "rain",
    },
    {
        text: "üéπüåÅ",
        videoID: "MYTfTKGSRr8",
        playlist: false,
        top: false,
        categorie: "rain",
    },
    {
        text: "",
        videoID: "QHIyFIMu4uQ",
        playlist: false,
        top: false,
        categorie: "rain",
    },
    {
        text: "Rami Malek's style is over 9999 üñ•Ô∏è",
        videoID: "_tUBCmGBO3A",
        playlist: false,
        top: false,
        categorie: "chill",
    },
    {
        videoID: "Y4uGmNUR8DQ",
        playlist: false,
        top: false,
        categorie: "chill",
    },
    {
        videoID: "Kt-tLuszKBA",
        playlist: false,
        top: true,
        categorie: "chill",
    },
    {
        videoID: "WCce-3XMdJs",
        playlist: false,
        top: false,
        categorie: "chill",
    },
    {
        videoID: "0-1jEhT3umA",
        playlist: false,
        top: false,
        categorie: "chill",
    },
    {
        text: "Sarah Beatriz",
        videoID: "0IKj9atfZvE",
        playlist: false,
        top: false,
        categorie: "chill",
    },
    {
        videoID: "PLbAFXJC0J5Gbogs-3Jk3nay0sAeAqi3SS",
        playlist: true,
        top: true,
        categorie: "chill",
    },
    {
        videoID: "fmI_Ndrxy14",
        playlist: false,
        top: true,
        categorie: "chill",
    },
    {
        videoID: "Zasx9hjo4WY",
        playlist: false,
        top: true,
        categorie: "chill",
    },
    {
        videoID: "xoWxv2yZXLQ",
        playlist: false,
        top: true,
        categorie: "chill",
    },
    {
        videoID: "E_PbH5y70Tc",
        playlist: false,
        top: false,
        categorie: "chill",
    },
    {
        videoID: "F5tSoaJ93ac",
        playlist: false,
        top: true,
        categorie: "chill",
    },
    {
        videoID: "oorajmbSJUM",
        playlist: false,
        top: true,
        categorie: "chill",
    },
    {
        videoID: "oaISU5KmTPA",
        playlist: false,
        top: false,
        categorie: "chill",
    },
    {
        videoID: "Yui-e1VDGM8",
        playlist: false,
        top: false,
        categorie: "chill",
    },
    {
        text: "<a href='youtube.com/watch?v=DyDfgMOUjCI'>Original</a>",
        videoID: "3Z4efCGd7TE",
        playlist: false,
        top: false,
        categorie: "chill",
    },
    {
        text: "<a href='youtube.com/watch?v=Y2V6yjjPbX0'>Original</a>",
        videoID: "fktD1q8OPa0",
        playlist: false,
        top: false,
        categorie: "chill",
    },
    {
        videoID: "UbQgXeY_zi4",
        playlist: false,
        top: false,
        categorie: "chill",
    },
    {
        text: "Á•ûÁßòÁöÑBGM„ÄëËíº„Éé‰∏ñÁïå / ÂπªÊÉ≥‰∏ñÁïå„ÅÆÈü≥Ê•Ω„Åü„Å°",
        videoID: "uqUP66TTXiY",
        playlist: false,
        top: false,
        categorie: "chilljp",
    },
    {
        videoID: "Jg73p9udbAQ",
        playlist: false,
        top: true,
        categorie: "chilljp",
    },
    {
        videoID: "OLAK5uy_mXM3z_ByZFdM3fPV3XaAOYLfkri_b1w7g",
        playlist: true,
        top: false,
        categorie: "chilljp",
    },
    {
        videoID: "jrTMMG0zJyI",
        playlist: false,
        top: false,
        categorie: "chilljp",
    },
    {
        videoID: "goxmvGJkoi0",
        playlist: false,
        top: false,
        categorie: "chilljp",
    },
    {
        videoID: "LUxd9GUJHN8",
        playlist: false,
        top: false,
        categorie: "chilljp",
    },
    {
        videoID: "MgOXIbgPfeI",
        playlist: false,
        top: false,
        categorie: "chilljp",
    },
    {
        videoID: "eSZFIXbqmhs",
        playlist: false,
        top: false,
        categorie: "chilljp",
    },
    {
        text: "üòà",
        videoID: "8zeyRAFMizc",
        playlist: false,
        top: false,
        categorie: "classic",
    },
    {
        text: "Symphonie n¬∞9 philharmonique",
        videoID: "OV0KkYUa6iA",
        playlist: false,
        top: false,
        categorie: "classic",
    },
    {
        text: "‚≠êüî´",
        videoID: "Z2n9GRUZlCs",
        playlist: false,
        top: true,
        categorie: "classic",
    },
    {
        text: "3. Sequentia: Lacrimosa",
        videoID: "W_kSfXbmwS4",
        playlist: false,
        top: false,
        categorie: "classic",
    },
    {
        videoID: "Szdziw4tI9o",
        playlist: false,
        top: false,
        categorie: "classic",
    },
    {
        videoID: "Kl6R4Ui9blc",
        playlist: false,
        top: false,
        categorie: "classic",
    },
    {
        videoID: "8B_UN9s6SLw",
        playlist: false,
        top: false,
        categorie: "classic",
    },
    {
        text: "Full with Cannons",
        videoID: "VbxgYlcNxE8",
        playlist: false,
        top: false,
        categorie: "classic",
    },
    {
        text: "Romeo and Juliet",
        videoID: "Z_hOR50u7ek",
        playlist: false,
        top: false,
        categorie: "classic",
    },
    {
        text: "Midge Ure",
        videoID: "MWCoDpwvWo0",
        playlist: false,
        top: true,
        categorie: "histoire",
    },
    {
        text: "Lindsey Stirling",
        videoID: "EKkzbbLYPuI",
        playlist: false,
        top: true,
        categorie: "histoire",
    },
    {
        text: "Shchedryk",
        videoID: "yx8l0QxV63o",
        playlist: false,
        top: false,
        categorie: "histoire",
    },
    {
        text: "Libera",
        videoID: "SQadcm_dwEM",
        playlist: false,
        top: false,
        categorie: "histoire",
    },
    {
        text: "Laura Branigan",
        videoID: "nNEb2k_EmMg",
        playlist: false,
        top: false,
        categorie: "histoire",
    },
    {
        text: "Kim Wilde",
        videoID: "8BYKpQ_6GbM",
        playlist: false,
        top: false,
        categorie: "histoire",
    },
    {
        text: "R. Wagner",
        videoID: "KMTRqAgLw04",
        playlist: false,
        top: false,
        categorie: "histoire",
    },
    {
        text: "A.K.A music name? trool ü§°",
        videoID: "y6120QOlsfU",
        playlist: false,
        top: false,
        categorie: "histoire",
    },
    {
        text: "Rick Astley discord.com/vanityurl/dotcom/steakpants/flour/flower/index11.html",
        videoID: "dQw4w9WgXcQ",
        playlist: false,
        top: false,
        categorie: "histoire",
    },
    {
        videoID: "0nlJuwO0GDs",
        playlist: false,
        top: true,
        categorie: "histoire",
    },
    {
        text: "Japanese traditional orchestra",
        videoID: "dx76YPgZviE",
        playlist: false,
        top: false,
        categorie: "histoire",
    },
    {
        videoID: "PD1EXJScA6k",
        playlist: false,
        top: true,
        categorie: "histoire",
    },
    {
        text: "Tchaikovsky - 1812 Overture",
        videoID: "PoNvCwnK1Ls",
        playlist: false,
        top: false,
        categorie: "histoire",
    },
    {
        text: "Tchaikovsky - 1812 Overture",
        videoID: "wA8E-f1PCQA",
        playlist: false,
        top: false,
        categorie: "histoire",
    },
    {
        videoID: "SreKbSWY4QY",
        playlist: false,
        top: false,
        categorie: "phonk",
    },
    {
        videoID: "EyyzROaB0Ek",
        playlist: false,
        top: false,
        categorie: "phonk",
    },
    {
        videoID: "JzslnqZGSp0",
        playlist: false,
        top: true,
        categorie: "phonk",
    },
    {
        videoID: "qkNKoFfFjYY",
        playlist: false,
        top: false,
        categorie: "phonk",
    },
    {
        videoID: "JRqig6kxmgg",
        playlist: false,
        top: false,
        categorie: "phonk",
    },
    {
        videoID: "UV5pnEkJs9E",
        playlist: false,
        top: false,
        categorie: "phonk",
    },
    {
        videoID: "6sD-s_mrVhM",
        playlist: false,
        top: false,
        categorie: "phonk",
    },
    {
        videoID: "_HwHK-QiXK8",
        playlist: false,
        top: false,
        categorie: "phonk",
    },
    {
        videoID: "SreKbSWY4QY",
        playlist: false,
        top: false,
        categorie: "phonk",
    },
    {
        videoID: "GAHkYbiQU9A",
        playlist: false,
        top: false,
        categorie: "phonk",
    },
    {
        videoID: "HgJ5JSfe1mE",
        playlist: false,
        top: true,
        categorie: "phonk",
    },
    {
        videoID: "sTIUC29Mv5g",
        playlist: false,
        top: false,
        categorie: "phonk",
    },
    {
        text: "Super Speed Up",
        videoID: "p5nD4t5MRoE",
        playlist: false,
        top: false,
        categorie: "phonk",
    },
    {
        text: "Slowed & Reverb",
        videoID: "mD7ttofMuJU",
        playlist: false,
        top: true,
        categorie: "phonk",
    },
    {
        text: "Cursed Crown",
        videoID: "Cr15_9e7-dE",
        playlist: false,
        top: true,
        categorie: "phonk",
    },
    {
        text: "Cursed Crown",
        videoID: "OLAK5uy_lnnelnwQcnS0CCsRGpjLGWiVmMEyuIHJk",
        playlist: true,
        top: false,
        categorie: "phonk",
    },
    {
        videoID: "xv8qfsARmMo",
        playlist: false,
        top: true,
        categorie: "phonk",
    },
    {
        videoID: "YKX6fDjtrCs",
        playlist: false,
        top: false,
        categorie: "phonk",
    },
    {
        videoID: "8O9l05_YmgM",
        playlist: false,
        top: false,
        categorie: "phonk",
    },
    {
        videoID: "WzUqD9oLnwM",
        playlist: false,
        top: false,
        categorie: "phonk",
    },
    {
        videoID: "iwlcaH9w-6g",
        playlist: false,
        top: true,
        categorie: "phonk",
    },
    {
        videoID: "abwf-BdPFsQ",
        playlist: false,
        top: true,
        categorie: "phonk",
    },
    {
        videoID: "lbcqbVhQhik",
        playlist: false,
        top: true,
        categorie: "phonk",
    },
    {
        videoID: "L5zE7EthV1o",
        playlist: false,
        top: true,
        categorie: "phonk",
    },
    {
        videoID: "DZGq96HznFw",
        playlist: false,
        top: true,
        categorie: "phonk",
    },
    {
        videoID: "wht3KWkM1cs",
        playlist: false,
        top: true,
        categorie: "phonk",
    },
    {
        videoID: "PvxVr2vK3vQ",
        playlist: false,
        top: false,
        categorie: "phonk",
    },
    {
        videoID: "iE6S9UaFo3U",
        playlist: false,
        top: false,
        categorie: "phonk",
    },
    {
        videoID: "1M82zhETc14",
        playlist: false,
        top: true,
        categorie: "phonk",
    },
    {
        videoID: "GDeZetYSAzo",
        playlist: false,
        top: false,
        categorie: "phonk",
    },
    {
        videoID: "--pnreEPBLE",
        playlist: false,
        top: true,
        categorie: "phonk",
    },
    {
        videoID: "RfOH4e8VpBw",
        playlist: false,
        top: false,
        categorie: "phonk",
    },
    {
        videoID: "zLz--CVp-fg",
        playlist: false,
        top: true,
        categorie: "phonk",
    },
    {
        videoID: "qR2QIJdtgiU",
        playlist: false,
        top: false,
        categorie: "phonk",
    },
    {
        videoID: "f-SCahQzK6w",
        playlist: false,
        top: false,
        categorie: "phonk",
    },
    {
        videoID: "Xp4rFiBSAxQ",
        playlist: false,
        top: false,
        categorie: "phonk",
    },
    {
        videoID: "PLau9bkm0iK9twhgsxr-bFTEchn_T9O0qW",
        playlist: true,
        top: false,
        categorie: "rap",
    },
    {
        videoID: "PLau9bkm0iK9t1DPKultYqH3q8yWpg-SvR",
        playlist: true,
        top: false,
        categorie: "rap",
    },
    {
        videoID: "PLau9bkm0iK9t470JP18A4a_mI6G_5ffDt",
        playlist: true,
        top: false,
        categorie: "rap",
    },
    {
        videoID: "UULFM9r1xn6s30OnlJWb-jc3Sw",
        text: "XXXTentatcion",
        playlist: true,
        top: false,
        categorie: "rap",
    },
    {
        videoID: "3Hcg-s3nVQw",
        playlist: false,
        top: false,
        categorie: "rap",
    },
    {
        videoID: "tmNpR_xQd8E",
        playlist: false,
        top: false,
        categorie: "rap",
    },
    {
        videoID: "5CzT1DDhKB8",
        playlist: false,
        top: true,
        categorie: "rap",
    },
    {
        videoID: "tExc5EOZ1DY",
        playlist: false,
        top: true,
        categorie: "rap",
    },
    {
        videoID: "2xWkATdMQms",
        playlist: false,
        top: false,
        categorie: "rap",
    },
    {
        videoID: "OLAK5uy_lAo1VUhC2my4SdPRpAn99wdjPhGkoOOE0",
        text: "Kerchak",
        playlist: true,
        top: false,
        categorie: "rap",
    },
    {
        videoID: "PL6TjZZ0C64slw6-FH3fmpKWuawYonS7ZG",
        playlist: true,
        top: false,
        categorie: "rap",
    },
    {
        text: "üçá",
        videoID: "tDJhDfg2jCQ",
        playlist: false,
        top: false,
        categorie: "trool",
    },
    {
        text: "‚úñüö¨",
        videoID: "ZYEIFIZZXTs",
        playlist: false,
        top: false,
        categorie: "trool",
    },
    {
        text: "üö¨üåø",
        videoID: "Xx_naluXFMQ",
        playlist: false,
        top: false,
        categorie: "trool",
    },
    {
        text: "ITI - Les Kassos #88",
        videoID: "OAmhM-jWTzg",
        playlist: false,
        top: false,
        categorie: "trool",
    },
    {
        text: "Lien : youtube.com/watch?v=tzx8gCkIKkU",
        videoID: "lBa_oZU_wao",
        playlist: false,
        top: false,
        categorie: "trool",
    },
    {
        text: "PoV Dev's life",
        videoID: "i8lDuo9yqfs",
        playlist: false,
        top: false,
        categorie: "trool",
    },
    {
        text: "‚ö°",
        videoID: "HZsiToZ8zCI",
        playlist: false,
        top: false,
        categorie: "trool",
    },
    {
        text: "üçæ",
        videoID: "QrU1hZxSEXQ",
        playlist: false,
        top: false,
        categorie: "trool",
    },
    {
        text: "Remix",
        videoID: "w2NYYCZAlsk",
        playlist: false,
        top: false,
        categorie: "trool",
    },
    {
        text: "Techno Extended Remix",
        videoID: "j6TwwXvwsKg",
        playlist: false,
        top: true,
        categorie: "trool",
    },
    {
        text: "Original",
        videoID: "h2CHF8TFvwk",
        playlist: false,
        top: false,
        categorie: "trool",
    },
    {
        text: "√âdouard Khil",
        videoID: "j2yCfIHFRhI",
        playlist: false,
        top: false,
        categorie: "trool",
    },
    {
        text: "Animation : www.youtube.com/@timyg",
        videoID: "eDW53rXqlRw",
        playlist: false,
        top: false,
        categorie: "trool",
    },
    {
        text: "Michel ‚ù§",
        videoID: "rlarCLhzfoU",
        playlist: false,
        top: false,
        categorie: "trool",
    },
    {
        text: "Eduard Khil",
        videoID: "32UGD0fV45g",
        playlist: false,
        top: false,
        categorie: "trool",
    },
    {
        text: "üí©",
        videoID: "lMw3FCXE5ws",
        playlist: false,
        top: false,
        categorie: "trool",
    },
    {
        videoID: "wZTIdnooV-s",
        playlist: false,
        top: false,
        categorie: "trool",
    }];

addMusics();

function show(music) {
    hideAll();

    var music = document.getElementById(music);
    music.style = "display:flex";
}

function hide(music) {
    var music = document.getElementById(music);
    music.style = "display:none";
}

function hideAll() {
    hide("topvid"); hide("rain"); hide("chill"); hide("chilljp"); hide("classic"); hide("histoire"); hide("phonk"); hide("rap"); hide("trool");
}

async function addMusics() {
    var array = musiclinks;
    for (music in array) {
        var playlist = array[music].playlist;
        var videoID = array[music].videoID;
        var top = array[music].top;
        var categorie = array[music].categorie;
        var fetchUrl;
        var JSONdata;

        if (playlist) {
            fetchUrl = "https://youtube.com/oembed?url=https://www.youtube.com/playlist?list=" + videoID + "&format=json"
        }else {
            fetchUrl = "https://www.youtube.com/oembed?url=https://youtube.com/watch?v=" + videoID + "&format=json"
        }

        await fetch(fetchUrl).then(response => response.json().then(data => { JSONdata = data }));

        var title = JSONdata.title;
        var length = 75;
        var title = title.length > length ? title.substring(0, length - 3) + "..." : title;

        console.log(title);

        var text;
        if (array[music].text !== undefined) {
            text = array[music].text;
        }
        else {
            text = "";
        }

        var thumbnail = JSONdata.thumbnail_url;

        var videoLink;
        if (playlist) {
            videoLink = "https://www.youtube.com/embed/playlist?list=" + videoID;
        }
        else {
            videoLink = "https://www.youtube.com/embed/" + videoID;
        }

        var topHolder = document.getElementById("topvid");
        var holder = document.getElementById(categorie);

        var div_card = document.createElement("div");
        div_card.className = "card";

        var video_title = document.createElement("h1");
        video_title.textContent = title;
        div_card.appendChild(video_title);

        var video_subtext = document.createElement("p");
        video_subtext.innerHTML = text;
        div_card.appendChild(video_subtext);

        var video_div = document.createElement("div");
        div_card.appendChild(video_div);

        var video_image = document.createElement("img");
        video_image.src = thumbnail;
        video_image.loading = "lazy";
        video_div.appendChild(video_image);

        var video_button = document.createElement("button");
        video_button.dataset.youtubeButton = videoLink;
        video_button.dataset.youtubePlayList = playlist;

        video_button.setAttribute("onclick", "createIframe(this)");

        video_div.appendChild(video_button);

        holder.appendChild(div_card);
        if (top === true) {
            var top_card = div_card.cloneNode(true);
            topHolder.appendChild(top_card);
        }
    }
}

function createIframe(event) {
    var url = event.dataset.youtubeButton;
    var playlist = event.dataset.youtubePlayList;
    var youtubePlaceholder = event.parentNode;

    var autoplay;
    if (playlist === "true") {
        autoplay = "&autoplay=1";
    }
    else if (playlist === "false") {
        autoplay = "?autoplay=1";
    }
    var htmlString = '<div> <iframe src="' + url + autoplay + '" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></div>';

    youtubePlaceholder.style.display = 'none';
    youtubePlaceholder.insertAdjacentHTML('beforebegin', htmlString);
    youtubePlaceholder.parentNode.removeChild(youtubePlaceholder); 
}